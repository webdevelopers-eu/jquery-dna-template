/*! Javascript Lazy Template 1.0 | MIT License | (c) Daniel Ševčík | www.webdevelopers.eu */
$.fn.template=function(e,t){function a(e,t){function a(e,t,a){var r;return r="string"==typeof e&&e.match("(\\$\\{|%24%7B)"+t+"(\\}|%7D)")?e.replace(new RegExp("\\$\\{"+t+"\\}","g"),a).replace(new RegExp("%24%7B"+t+"%7D","g"),a):a}function r(e,t,a,r){if(r[a])return t;r[a]=!0;var l=e.data("template:"+a);return"string"==typeof l?l:(e.data("template:"+a,t),t)}if("object"!=typeof e)throw console.log("replaceVars: Cannot replace variables inside the context",e,t),new Error("Cannot replace HTML variables.");var l=t.find('*[template^="["] *[template^="["], *[template^="{"] *[template^="["], *[template^="["] *[template^="{"], *[template^="{"] *[template^="{"]'),n=t.find('*[template^="["], *[template^="{"]').not(l),s=$.map(e,function(e,t){return'*[z-var*="'+t+' "]'}).join(", ");return t.find(s).not(n.find(s).add(n)).add(t.filter(s)).not(t.find("*[template-scope] *[z-var]")).each(function(t,l){var n={},s=null,i={};$.each(e,function(e,t){for(var o=$(l),p=$.trim(o.attr("z-var")).split(","),c=0;c<p.length;c++){var m=$.trim(p[c]).split(/\s+/);if("debugger"!=m[0]&&(m[0]==e||m[0]=="!"+e)){var f=m[1]||".",d=!("object"==typeof t&&$.isEmptyObject(t))&&!($.isNumeric(t)&&!parseFloat(t))&&t;d="!"==m[0].substr(0,1)?!d:d;var u=$.type(t).match(/string|number/)?t:"";if($.isArray(t)&&(u=t.length),"?"==f)s=(null===s||s)&&d;else if("!"==f)d||o.remove();else if("."==f)o.text(a(r(o,o.text(),f,n),e,u));else if("+"==f)o.html(t);else if("="==f)o.is(":checkbox, :radio")?o.prop("checked",$.type(t).match(/string|number/)?o.val()==u:d):o.val(t);else if("."==f.substr(0,1)){var h=f.substr(1).replace("."," ");d?"undefined"==typeof i[f]&&o.addClass(h):(i[f]=!0,o.removeClass(h))}else"@"==f.substr(0,1)?"boolean"==$.type(t)?o.attr(f.substr(1),d?f.substr(1):null):o.attr(f.substr(1),a(r(o,o.attr(f.substr(1)),f,n),e,u)):console.log('Error: replaceVars(): invalid target "'+f+'" for variable "'+e+'" in "'+o.attr("z-var")+'"')}}}),null!==s&&(s?($(l).removeClass("dna-template-hidden"),"none"==l.style.display&&$(l).css("display","")):$(l).addClass("dna-template-hidden"))}),n.each(function(){var t=$(this),a=t.attr("template").match(/^([{\[])(.*)[\]}]$/),r="{"==a[1],l=a[2],n=e[l];if("undefined"!=typeof n&&null!==n)if(t.siblings("[template-clone]").filter(function(){return $(this).attr("template-clone")==t.attr("template")}).remove(),r)"object"!=$.type(n)&&(n={value:n}),t.template(n,!1);else switch($.isEmptyObject(n)&&(n=[]),$.type(n)){case"string":case"number":case"bool":case"object":n=[n];case"array":$.each(n,function(e,a){t.template($.isPlainObject(a)?a:{value:a})})}}),t}var r=$();if($(this).add(r).trigger("template:before",[e,this,r,t]),$.isArray(e))for(var l=0;l<e.length;l++)r.add($(this).template(e[l],t));else this.each(function(){var l=$(this),n="boolean"==typeof t?t:!l.is("[template]"),s=n?l:l.clone().addClass("template-clone").attr("template-clone",l.attr("template")).insertBefore(this),i=a(e,s).removeAttr("template");r=r.add(i)});return $(this).add(r).trigger("template:after",[e,this,r,t]),r};
//# sourceMappingURL=jquery.template.min.map